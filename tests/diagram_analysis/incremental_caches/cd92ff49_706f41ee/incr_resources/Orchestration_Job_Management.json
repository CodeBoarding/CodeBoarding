{
  "description": "The `Orchestration & Job Management` subsystem is critical for managing the lifecycle of analysis jobs within the project. It acts as the local control plane, handling job initiation, monitoring, and data persistence, while coordinating with other services to execute the analysis pipeline.",
  "components": [
    {
      "name": "API Service / Job Controller",
      "description": "This component serves as the external interface for the system, receiving requests to initiate documentation generation jobs and providing endpoints for monitoring job status. It acts as the initial entry point for all job-related operations.",
      "key_entities": [
        {
          "qualified_name": "local_app.start_docs_generation_job",
          "reference_file": "local_app.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "local_app.py",
        "demo.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Job Orchestration Engine",
      "description": "The core of the subsystem, responsible for managing the entire lifecycle of an analysis job. It coordinates various steps, including repository preparation, environment setup, triggering analysis, and processing results, ensuring a smooth workflow from start to finish.",
      "key_entities": [],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Job Metadata Store",
      "description": "Provides a durable storage mechanism for all job-related metadata. This includes job status, input parameters, timestamps, intermediate results, and final outputs, ensuring that job state can be maintained, retrieved, and audited.",
      "key_entities": [],
      "assigned_files": [
        "duckdb_crud.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Job Execution Environment Manager",
      "description": "This component is responsible for preparing and cleaning up the isolated execution environment for each analysis job. This involves creating temporary directories, installing necessary dependencies (e.g., `npm`, `uv`), downloading binaries, and initializing configuration files to ensure a consistent and clean execution context.",
      "key_entities": [
        {
          "qualified_name": "utils.create_temp_repo_folder",
          "reference_file": "utils.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "utils.py",
        "logging_config.py",
        "setup.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Repository Interaction Service",
      "description": "Handles all interactions with remote Git repositories. This includes cloning repositories, checking out specific branches, sanitizing repository URLs, and providing utilities for accessing repository metadata, ensuring secure and reliable access to source code.",
      "key_entities": [],
      "assigned_files": [
        "repo_utils/__init__.py",
        "repo_utils/errors.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Version Control Diff Service",
      "description": "Offers specialized functionality for computing and analyzing differences between various versions of a Git repository. This is crucial for features like incremental documentation updates or focusing analysis on recently changed code.",
      "key_entities": [],
      "assigned_files": [
        "repo_utils/git_diff.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "initiates",
      "src_name": "API Service / Job Controller",
      "dst_name": "Job Orchestration Engine"
    },
    {
      "relation": "queries",
      "src_name": "API Service / Job Controller",
      "dst_name": "Job Metadata Store"
    },
    {
      "relation": "updates",
      "src_name": "Job Orchestration Engine",
      "dst_name": "Job Metadata Store"
    },
    {
      "relation": "requests",
      "src_name": "Job Orchestration Engine",
      "dst_name": "Repository Interaction Service"
    },
    {
      "relation": "instructs",
      "src_name": "Job Orchestration Engine",
      "dst_name": "Job Execution Environment Manager"
    },
    {
      "relation": "requests",
      "src_name": "Job Orchestration Engine",
      "dst_name": "Version Control Diff Service"
    },
    {
      "relation": "provides data to",
      "src_name": "Job Metadata Store",
      "dst_name": "API Service / Job Controller"
    },
    {
      "relation": "provides repository access to",
      "src_name": "Repository Interaction Service",
      "dst_name": "Job Orchestration Engine"
    },
    {
      "relation": "provides diff analysis to",
      "src_name": "Version Control Diff Service",
      "dst_name": "Job Orchestration Engine"
    }
  ]
}