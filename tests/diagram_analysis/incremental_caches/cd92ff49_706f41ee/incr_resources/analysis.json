{
  "description": "The CodeBoarding system is designed as a pipeline-driven, modular architecture for transforming raw source code into structured architectural diagrams and documentation. The `Job Orchestration & Output Generation` component initiates and manages the entire analysis workflow, coordinating interactions between the `Repository & Tooling Interface` for code access, the `Static Analysis Engine` for in-depth code analysis, and the `AI Orchestration Layer` for intelligent interpretation using Large Language Models. All components interact through `Shared Data Models` to ensure data consistency and facilitate structured information exchange. The `Monitoring & Metrics` component provides observability into the system's execution and resource usage.",
  "components": [
    {
      "name": "Job Orchestration & Output Generation",
      "description": "This component manages the end-to-end lifecycle of analysis and documentation generation jobs. It handles job initiation (from local runs or GitHub Actions), persists job details, coordinates the overall analysis flow, and generates the final documentation artifacts, such as Markdown files.",
      "key_entities": [
        {
          "qualified_name": "CodeBoarding.main",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "CodeBoarding.duckdb_crud.DuckDBCrud",
          "reference_file": "duckdb_crud.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "CodeBoarding.output_generators.markdown.MarkdownOutputGenerator",
          "reference_file": "output_generators/markdown.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "CodeBoarding.github_action.run_github_action",
          "reference_file": "github_action.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "main.py",
        "utils.py",
        "local_app.py",
        "duckdb_crud.py",
        "output_generators/markdown.py",
        "github_action.py",
        "diagram_analysis/__init__.py",
        "diagram_analysis/analysis_json.py",
        "diagram_analysis/diagram_generator.py",
        "diagram_analysis/version.py",
        "evals/base.py",
        "evals/cli.py",
        "evals/config.py",
        "evals/definitions/end_to_end.py",
        "evals/definitions/scalability.py",
        "evals/definitions/static_analysis.py",
        "evals/utils.py",
        "install.py",
        "output_generators/__init__.py",
        "output_generators/html.py",
        "output_generators/html_template.py",
        "output_generators/mdx.py",
        "output_generators/sphinx.py"
      ],
      "source_cluster_ids": [
        4,
        12
      ],
      "can_expand": true
    },
    {
      "name": "Repository & Tooling Interface",
      "description": "This component provides the necessary interfaces for accessing and manipulating project repositories and exposing various tools to the AI agents and static analysis engine. It handles Git operations like cloning and checking out, and offers tools to read file content, CFGs, method invocations, and package dependencies.",
      "key_entities": [],
      "assigned_files": [
        "agents/tools/toolkit.py",
        "repo_utils/__init__.py",
        "agents/tools/read_structure.py",
        "agents/tools/read_file_structure.py",
        "agents/tools/__init__.py",
        "agents/tools/base.py",
        "agents/tools/external_deps.py",
        "agents/tools/get_method_invocations.py",
        "agents/tools/read_cfg.py",
        "agents/tools/read_docs.py",
        "agents/tools/read_file.py",
        "agents/tools/read_git_diff.py",
        "agents/tools/read_packages.py",
        "agents/tools/read_source.py",
        "repo_utils/errors.py",
        "repo_utils/git_diff.py",
        "repo_utils/ignore.py"
      ],
      "source_cluster_ids": [
        6,
        16
      ],
      "can_expand": true
    },
    {
      "name": "Static Analysis Engine",
      "description": "This component is responsible for in-depth analysis of source code across multiple programming languages. It extracts structural information, symbols, references, and call hierarchies, leveraging Language Server Protocol (LSP) clients and language-specific configurations. It processes and structures this data using graph algorithms and includes a caching mechanism for efficiency.",
      "key_entities": [
        {
          "qualified_name": "CodeBoarding.static_analyzer.graph.Graph",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/graph.py",
        "static_analyzer/programming_language.py",
        "static_analyzer/reference_resolve_mixin.py",
        "static_analyzer/java_config_scanner.py",
        "static_analyzer/lsp_client/typescript_client.py",
        "static_analyzer/analysis_result.py",
        "static_analyzer/lsp_client/client.py",
        "static_analyzer/lsp_client/java_client.py",
        "health/__init__.py",
        "health/checks/__init__.py",
        "health/checks/circular_deps.py",
        "health/checks/cohesion.py",
        "health/checks/coupling.py",
        "health/checks/function_size.py",
        "health/checks/god_class.py",
        "health/checks/inheritance.py",
        "health/checks/instability.py",
        "health/checks/orphan_code.py",
        "health/config.py",
        "health/runner.py",
        "health_main.py",
        "static_analyzer/__init__.py",
        "static_analyzer/cluster_helpers.py",
        "static_analyzer/java_utils.py",
        "static_analyzer/lsp_client/__init__.py",
        "static_analyzer/scanner.py",
        "static_analyzer/typescript_config_scanner.py"
      ],
      "source_cluster_ids": [
        1,
        2,
        8,
        13,
        15,
        17,
        18,
        19
      ],
      "can_expand": true
    },
    {
      "name": "AI Orchestration Layer",
      "description": "This component manages all interactions with Large Language Models (LLMs). It orchestrates agent behavior, invokes various tools, parses LLM responses, and handles prompt generation and management for different LLM providers (e.g., OpenAI, Google Gemini, Anthropic Claude).",
      "key_entities": [
        {
          "qualified_name": "CodeBoarding.agents.prompts.prompt_factory.PromptFactory",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "CodeBoarding.agents.prompts.abstract_prompt_factory.AbstractPromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/prompts/gemini_flash_prompts.py",
        "agents/prompts/prompt_factory.py",
        "agents/prompts/claude_prompts.py",
        "agents/agent.py",
        "agents/prompts/gpt_prompts.py",
        "agents/prompts/abstract_prompt_factory.py",
        "agents/__init__.py",
        "agents/abstraction_agent.py",
        "agents/cluster_methods_mixin.py",
        "agents/details_agent.py",
        "agents/llm_config.py",
        "agents/meta_agent.py",
        "agents/planner_agent.py",
        "agents/prompts/__init__.py",
        "agents/validation.py"
      ],
      "source_cluster_ids": [
        3,
        5,
        9,
        10,
        11,
        14
      ],
      "can_expand": true
    },
    {
      "name": "Shared Data Models",
      "description": "This component defines the common data structures and models used for internal communication and external API responses throughout the CodeBoarding system. It ensures data consistency and facilitates structured information exchange between all components.",
      "key_entities": [],
      "assigned_files": [
        "agents/agent_responses.py",
        "evals/schemas.py",
        "health/models.py",
        "vscode_constants.py"
      ],
      "source_cluster_ids": [
        7
      ],
      "can_expand": true
    },
    {
      "name": "Monitoring & Metrics",
      "description": "This component is responsible for monitoring the system's execution, tracking performance metrics, and recording LLM usage. It primarily handles the saving of LLM usage data and streaming of token usage information, providing insights for debugging, optimization, and resource management.",
      "key_entities": [],
      "assigned_files": [
        "monitoring/writers.py",
        "logging_config.py",
        "monitoring/__init__.py",
        "monitoring/callbacks.py",
        "monitoring/context.py",
        "monitoring/mixin.py",
        "monitoring/paths.py",
        "monitoring/stats.py"
      ],
      "source_cluster_ids": [
        20
      ],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "Initiates repository operations, Requests project context",
      "src_name": "Job Orchestration & Output Generation",
      "dst_name": "Repository & Tooling Interface"
    },
    {
      "relation": "Triggers code analysis",
      "src_name": "Job Orchestration & Output Generation",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Coordinates AI interpretation",
      "src_name": "Job Orchestration & Output Generation",
      "dst_name": "AI Orchestration Layer"
    },
    {
      "relation": "Consumes structured insights",
      "src_name": "Job Orchestration & Output Generation",
      "dst_name": "Shared Data Models"
    },
    {
      "relation": "Provides source code access, Supplies project metadata",
      "src_name": "Repository & Tooling Interface",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Exposes code exploration tools",
      "src_name": "Repository & Tooling Interface",
      "dst_name": "AI Orchestration Layer"
    },
    {
      "relation": "Delivers analysis results",
      "src_name": "Static Analysis Engine",
      "dst_name": "AI Orchestration Layer"
    },
    {
      "relation": "Populates data models",
      "src_name": "Static Analysis Engine",
      "dst_name": "Shared Data Models"
    },
    {
      "relation": "Utilizes code exploration tools",
      "src_name": "AI Orchestration Layer",
      "dst_name": "Repository & Tooling Interface"
    },
    {
      "relation": "Generates architectural components, Updates analysis insights",
      "src_name": "AI Orchestration Layer",
      "dst_name": "Shared Data Models"
    },
    {
      "relation": "Queries for code insights",
      "src_name": "AI Orchestration Layer",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Observes LLM usage",
      "src_name": "Monitoring & Metrics",
      "dst_name": "AI Orchestration Layer"
    },
    {
      "relation": "Tracks job execution stats",
      "src_name": "Monitoring & Metrics",
      "dst_name": "Job Orchestration & Output Generation"
    }
  ]
}