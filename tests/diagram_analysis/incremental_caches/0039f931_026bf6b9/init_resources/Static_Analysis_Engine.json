{
  "description": "The Static Analysis Engine performs end-to-end static code analysis across repositories by orchestrating language-specific LSP clients to extract symbols, references, and relationships, building code graphs (call graphs, class hierarchies), resolving ambiguous references, and persisting structured analysis artifacts for downstream querying and consumption. The main flow starts with repository scanning to detect languages and modules, configures and runs LSP-based extraction, analyzes and clusters graph data, resolves references, and stores the aggregated results in a central results store.",
  "components": [
    {
      "name": "Static Analysis Orchestrator",
      "description": "Orchestrates the end-to-end static analysis workflow, coordinating scanning, LSP extraction, graph analysis, reference resolution, and aggregation of final artifacts into the results store.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.orchestrator.StaticAnalysisOrchestrator",
          "reference_file": "static_analyzer/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/__init__.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Project Scanner",
      "description": "Scans repositories to detect languages, file suffixes, basic statistics, and parses build/configuration files to produce module structure and dependency information for subsequent analysis.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.scanner.ProjectScanner",
          "reference_file": "static_analyzer/scanner.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/scanner.py",
        "static_analyzer/java_config_scanner.py",
        "static_analyzer/typescript_config_scanner.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Language Configuration Manager",
      "description": "Manages language-specific configurations and capabilities (LSP server commands, supported file extensions, timeouts), acting as a registry consulted by the orchestrator, scanner, and LSP clients.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.programming_language.ProgrammingLanguageBuilder",
          "reference_file": "static_analyzer/programming_language.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/programming_language.py",
        "static_analyzer/java_utils.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "LSP Client Manager",
      "description": "Provides a unified interface for interacting with various LSP servers, handling server lifecycle and extracting document symbols, definitions, references, call graphs, and class hierarchy data.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.lsp_client.client.LSPClient",
          "reference_file": "static_analyzer/lsp_client/client.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/lsp_client/client.py",
        "static_analyzer/lsp_client/__init__.py",
        "static_analyzer/lsp_client/java_client.py",
        "static_analyzer/lsp_client/typescript_client.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Code Graph Analyzer",
      "description": "Builds and analyzes code graphs such as call graphs and class hierarchies from raw LSP data, applies clustering to identify logical components, and transforms symbol/relation data into structured graph representations.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.graph.CallGraph",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/graph.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Code Reference Resolver",
      "description": "Resolves ambiguous or incomplete code references by leveraging static context, cached symbols, and heuristic or LLM-assisted strategies to map references to definitive source locations and accurate line numbers.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.resolver.CodeReferenceResolver",
          "reference_file": "static_analyzer/reference_resolve_mixin.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/reference_resolve_mixin.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Static Analysis Results Store",
      "description": "Aggregates, persists, and provides query access to all static analysis outputs including CFGs, class hierarchies, package dependencies, raw LSP artifacts, resolved references, and clustered graphs.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.analysis_result.StaticAnalysisResults",
          "reference_file": "static_analyzer/analysis_result.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/analysis_result.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "initiates repository scanning",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "Project Scanner"
    },
    {
      "relation": "queries for language-specific configurations",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "Language Configuration Manager"
    },
    {
      "relation": "directs LSP-based data extraction",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "LSP Client Manager"
    },
    {
      "relation": "triggers graph construction and analysis",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "Code Graph Analyzer"
    },
    {
      "relation": "requests disambiguation of code references",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "Code Reference Resolver"
    },
    {
      "relation": "stores and retrieves final analysis artifacts",
      "src_name": "Static Analysis Orchestrator",
      "dst_name": "Static Analysis Results Store"
    },
    {
      "relation": "provides detected languages and consults scanning rules",
      "src_name": "Project Scanner",
      "dst_name": "Language Configuration Manager"
    },
    {
      "relation": "persists project metadata",
      "src_name": "Project Scanner",
      "dst_name": "Static Analysis Results Store"
    },
    {
      "relation": "provides LSP server configurations and adapts LSP behavior",
      "src_name": "Language Configuration Manager",
      "dst_name": "LSP Client Manager"
    },
    {
      "relation": "supplies raw symbol and relation data",
      "src_name": "LSP Client Manager",
      "dst_name": "Code Graph Analyzer"
    },
    {
      "relation": "provides graph context for reference resolution",
      "src_name": "Code Graph Analyzer",
      "dst_name": "Code Reference Resolver"
    },
    {
      "relation": "persists generated graphs",
      "src_name": "Code Graph Analyzer",
      "dst_name": "Static Analysis Results Store"
    },
    {
      "relation": "stores resolved mappings",
      "src_name": "Code Reference Resolver",
      "dst_name": "Static Analysis Results Store"
    }
  ]
}