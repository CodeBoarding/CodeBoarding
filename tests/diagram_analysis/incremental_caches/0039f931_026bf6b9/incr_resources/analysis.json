{
  "description": "The CodeBoarding application operates as a multi-stage pipeline, orchestrating the analysis of code repositories from cloning and static analysis to AI-driven interpretation and documentation generation. It manages job lifecycles, leverages various language-specific static analysis tools, applies graph-based algorithms for architectural insights, and uses large language models to classify code and generate comprehensive reports. The system also includes robust mechanisms for interacting with codebases, monitoring performance, and performing automated code health checks.",
  "components": [
    {
      "name": "Orchestration & Job Management",
      "description": "This component serves as the central control and entry point for the CodeBoarding application. It manages the lifecycle of analysis jobs, from initiation to final output generation, handles overall application flow, and persists job states. It also encompasses the high-level orchestration for processing repositories and generating documentation, acting as the primary interface for job execution and result delivery.",
      "key_entities": [
        {
          "qualified_name": "main.main",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "diagram_analysis.diagram_generator.DiagramGenerator",
          "reference_file": "diagram_analysis/diagram_generator.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "local_app.LocalApp",
          "reference_file": "local_app.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "duckdb_crud.DuckDBCrud",
          "reference_file": "duckdb_crud.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "diagram_analysis/diagram_generator.py",
        "utils.py",
        "duckdb_crud.py",
        "github_action.py",
        "main.py",
        "local_app.py",
        "diagram_analysis/__init__.py",
        "diagram_analysis/analysis_json.py",
        "diagram_analysis/version.py",
        "install.py",
        "output_generators/__init__.py",
        "output_generators/html.py",
        "output_generators/html_template.py",
        "output_generators/markdown.py",
        "output_generators/mdx.py",
        "output_generators/sphinx.py",
        "vscode_constants.py"
      ],
      "source_cluster_ids": [
        5,
        10
      ],
      "can_expand": true
    },
    {
      "name": "Code Interaction & Repository Manager",
      "description": "This component provides the interface through which AI agents and other system components interact with the codebase. It manages underlying Git repositories (cloning, checking out) and offers various tools for accessing specific code information, such as reading file structures, code content, and retrieving CFG data.",
      "key_entities": [
        {
          "qualified_name": "agents.tools.ToolFactory",
          "reference_file": "agents/tools/read_file_structure.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.tools.ReadCodeTool",
          "reference_file": "agents/tools/read_file_structure.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "repo_utils.RepoUtils",
          "reference_file": "repo_utils/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "repo_utils.clone_repo",
          "reference_file": "repo_utils/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/tools/read_file_structure.py",
        "agents/tools/read_structure.py",
        "repo_utils/__init__.py",
        "agents/tools/toolkit.py",
        "agents/tools/__init__.py",
        "agents/tools/base.py",
        "agents/tools/external_deps.py",
        "agents/tools/get_method_invocations.py",
        "agents/tools/read_cfg.py",
        "agents/tools/read_docs.py",
        "agents/tools/read_file.py",
        "agents/tools/read_git_diff.py",
        "agents/tools/read_packages.py",
        "agents/tools/read_source.py",
        "repo_utils/errors.py",
        "repo_utils/git_diff.py",
        "repo_utils/ignore.py"
      ],
      "source_cluster_ids": [
        6,
        12
      ],
      "can_expand": true
    },
    {
      "name": "Static Analysis Engine",
      "description": "This component is responsible for performing deep static analysis of the codebase across multiple programming languages. It leverages Language Server Protocol (LSP) clients to extract structural information, build internal representations (like call graphs), and store the raw analysis results for consumption by other parts of the system.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.lsp_client.client.LSPClient",
          "reference_file": "static_analyzer/lsp_client/client.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.programming_language.ProgrammingLanguage",
          "reference_file": "static_analyzer/programming_language.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.analysis_result.AnalysisResult",
          "reference_file": "static_analyzer/analysis_result.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.lsp_client.java_client.JavaLSPClient",
          "reference_file": "static_analyzer/lsp_client/java_client.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/java_config_scanner.py",
        "static_analyzer/lsp_client/client.py",
        "static_analyzer/reference_resolve_mixin.py",
        "static_analyzer/lsp_client/typescript_client.py",
        "static_analyzer/lsp_client/java_client.py",
        "static_analyzer/programming_language.py",
        "static_analyzer/analysis_result.py",
        "static_analyzer/__init__.py",
        "static_analyzer/java_utils.py",
        "static_analyzer/lsp_client/__init__.py",
        "static_analyzer/scanner.py",
        "static_analyzer/typescript_config_scanner.py"
      ],
      "source_cluster_ids": [
        2,
        8,
        11,
        13,
        14,
        15,
        16
      ],
      "can_expand": true
    },
    {
      "name": "Architectural Insight Generator",
      "description": "This component specializes in processing raw static analysis data, particularly call graphs, into higher-level architectural insights. It applies sophisticated graph-based algorithms, including adaptive clustering, to identify logical groupings and relationships within the codebase, transforming raw code relationships into actionable architectural patterns.",
      "key_entities": [
        {
          "qualified_name": "static_analyzer.graph.CallGraph",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.graph.Node",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.graph.ClusterResult",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "static_analyzer.graph._adaptive_clustering",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/graph.py",
        "static_analyzer/cluster_helpers.py"
      ],
      "source_cluster_ids": [
        3
      ],
      "can_expand": true
    },
    {
      "name": "AI Interpretation Layer",
      "description": "This component represents the intelligent core of the CodeBoarding tool, leveraging Large Language Models (LLMs) to interpret static analysis results, classify code, and generate insights. It encompasses the AI agents, the prompt engineering layer for interacting with various LLM providers, and the structured data models for agent output.",
      "key_entities": [
        {
          "qualified_name": "agents.agent.CodeBoardingAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.prompts.prompt_factory.PromptFactory",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.AnalysisInsights",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.FileClassification",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/prompts/claude_prompts.py",
        "agents/agent_responses.py",
        "agents/prompts/prompt_factory.py",
        "agents/prompts/gemini_flash_prompts.py",
        "agents/agent.py",
        "agents/prompts/abstract_prompt_factory.py",
        "agents/prompts/gpt_prompts.py",
        "agents/__init__.py",
        "agents/abstraction_agent.py",
        "agents/cluster_methods_mixin.py",
        "agents/details_agent.py",
        "agents/llm_config.py",
        "agents/meta_agent.py",
        "agents/planner_agent.py",
        "agents/prompts/__init__.py",
        "agents/validation.py"
      ],
      "source_cluster_ids": [
        1,
        4,
        7,
        9
      ],
      "can_expand": true
    },
    {
      "name": "Monitoring & Evaluation",
      "description": "This component provides the infrastructure for observing, collecting metrics, and evaluating the performance and effectiveness of the CodeBoarding system. It includes callback mechanisms to intercept LLM and tool events, writers for persisting monitoring data, and a framework for defining and running evaluations.",
      "key_entities": [
        {
          "qualified_name": "monitoring.callbacks.LLMCallback",
          "reference_file": "monitoring/callbacks.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "monitoring.writers.MonitoringWriter",
          "reference_file": "monitoring/writers.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "evals.base.EvaluationFramework",
          "reference_file": "evals/base.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "evals/base.py",
        "monitoring/writers.py",
        "monitoring/callbacks.py",
        "evals/cli.py",
        "evals/config.py",
        "evals/definitions/end_to_end.py",
        "evals/definitions/scalability.py",
        "evals/definitions/static_analysis.py",
        "evals/schemas.py",
        "evals/utils.py",
        "logging_config.py",
        "monitoring/__init__.py",
        "monitoring/context.py",
        "monitoring/mixin.py",
        "monitoring/paths.py",
        "monitoring/stats.py"
      ],
      "source_cluster_ids": [
        17,
        19,
        20
      ],
      "can_expand": true
    },
    {
      "name": "Code Health Checker",
      "description": "This component is dedicated to performing automated code health checks to identify potential issues, anti-patterns, or areas for improvement within the codebase. It provides a distinct capability for assessing code quality, separate from the primary analysis and documentation generation workflow.",
      "key_entities": [
        {
          "qualified_name": "health.run_health_checks",
          "reference_file": "health/runner.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "health.HealthCheckConfig",
          "reference_file": "health/runner.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "health.initialize_healthignore",
          "reference_file": "health/runner.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "health/runner.py",
        "health_main.py",
        "health/models.py",
        "health/config.py",
        "health/__init__.py",
        "health/checks/__init__.py",
        "health/checks/circular_deps.py",
        "health/checks/cohesion.py",
        "health/checks/coupling.py",
        "health/checks/function_size.py",
        "health/checks/god_class.py",
        "health/checks/inheritance.py",
        "health/checks/instability.py",
        "health/checks/orphan_code.py"
      ],
      "source_cluster_ids": [
        18
      ],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "Initiates repository operations (clone, checkout)",
      "src_name": "Orchestration & Job Management",
      "dst_name": "Code Interaction & Repository Manager"
    },
    {
      "relation": "Triggers static analysis jobs",
      "src_name": "Orchestration & Job Management",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Invokes code health checks",
      "src_name": "Orchestration & Job Management",
      "dst_name": "Code Health Checker"
    },
    {
      "relation": "Reports job lifecycle events",
      "src_name": "Orchestration & Job Management",
      "dst_name": "Monitoring & Evaluation"
    },
    {
      "relation": "Provides code access and repository details",
      "src_name": "Code Interaction & Repository Manager",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Offers tools for code access (read files, CFG)",
      "src_name": "Code Interaction & Repository Manager",
      "dst_name": "AI Interpretation Layer"
    },
    {
      "relation": "Provides codebase access for checks",
      "src_name": "Code Interaction & Repository Manager",
      "dst_name": "Code Health Checker"
    },
    {
      "relation": "Logs repository operation events",
      "src_name": "Code Interaction & Repository Manager",
      "dst_name": "Monitoring & Evaluation"
    },
    {
      "relation": "Provides raw static analysis data (e.g., call graphs)",
      "src_name": "Static Analysis Engine",
      "dst_name": "Architectural Insight Generator"
    },
    {
      "relation": "Logs analysis progress and results",
      "src_name": "Static Analysis Engine",
      "dst_name": "Monitoring & Evaluation"
    },
    {
      "relation": "Supplies architectural insights (e.g., clustered components)",
      "src_name": "Architectural Insight Generator",
      "dst_name": "AI Interpretation Layer"
    },
    {
      "relation": "Generates and delivers analysis reports/insights",
      "src_name": "AI Interpretation Layer",
      "dst_name": "Orchestration & Job Management"
    },
    {
      "relation": "Logs agent activity and LLM interactions",
      "src_name": "AI Interpretation Layer",
      "dst_name": "Monitoring & Evaluation"
    },
    {
      "relation": "Reports health check results",
      "src_name": "Code Health Checker",
      "dst_name": "Orchestration & Job Management"
    }
  ]
}