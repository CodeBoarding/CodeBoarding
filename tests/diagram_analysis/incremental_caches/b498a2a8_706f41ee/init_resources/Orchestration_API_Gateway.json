{
  "description": "The Orchestration & API Gateway subsystem manages the overall execution flow, handles incoming requests, persists job states, and coordinates various analysis and generation tasks. It acts as the central control point and provides interfaces for both local and CI/CD environments.",
  "components": [
    {
      "name": "API Service",
      "description": "Provides the external interface for users to initiate documentation generation requests, retrieve job statuses, and list ongoing/completed jobs. It manages the lifecycle of these requests, acting as the primary entry point for both local and CI/CD environments.",
      "key_entities": [
        {
          "qualified_name": "local_app.start_generation_job",
          "reference_file": "local_app.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "local_app.py",
        "github_action.py",
        "vscode_constants.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Orchestration Engine",
      "description": "Coordinates the entire documentation generation pipeline. It manages the sequence of operations, including initiating repository cloning, triggering static analysis, managing AI interpretation, and directing output generation, while updating job statuses throughout the process.",
      "key_entities": [
        {
          "qualified_name": "main.main",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "main.generate_analysis",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "diagram_analysis.diagram_generator.DiagramGenerator",
          "reference_file": "diagram_analysis/diagram_generator.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "main.py",
        "diagram_analysis/diagram_generator.py",
        "diagram_analysis/__init__.py",
        "diagram_analysis/analysis_json.py",
        "diagram_analysis/version.py",
        "evals/base.py",
        "evals/cli.py",
        "evals/config.py",
        "evals/definitions/end_to_end.py",
        "evals/definitions/scalability.py",
        "evals/definitions/static_analysis.py",
        "evals/schemas.py",
        "evals/utils.py",
        "logging_config.py",
        "monitoring/__init__.py",
        "monitoring/callbacks.py",
        "monitoring/context.py",
        "monitoring/mixin.py",
        "monitoring/paths.py",
        "monitoring/stats.py",
        "monitoring/writers.py",
        "setup.py",
        "utils.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Job Database",
      "description": "Persistently stores and manages all job-related data, including request parameters, current status (PENDING, RUNNING, COMPLETED, FAILED), timestamps, and results, ensuring job state can be tracked and retrieved reliably.",
      "key_entities": [
        {
          "qualified_name": "duckdb_crud.insert_job",
          "reference_file": "duckdb_crud.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "duckdb_crud.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "triggers new documentation generation jobs",
      "src_name": "API Service",
      "dst_name": "Orchestration Engine"
    },
    {
      "relation": "processes job initiation commands received from",
      "src_name": "Orchestration Engine",
      "dst_name": "API Service"
    },
    {
      "relation": "creates and updates job records in",
      "src_name": "Orchestration Engine",
      "dst_name": "Job Database"
    },
    {
      "relation": "retrieves job details and configuration from",
      "src_name": "Orchestration Engine",
      "dst_name": "Job Database"
    },
    {
      "relation": "queries",
      "src_name": "API Service",
      "dst_name": "Job Database"
    },
    {
      "relation": "stores job information for",
      "src_name": "Job Database",
      "dst_name": "API Service"
    }
  ]
}