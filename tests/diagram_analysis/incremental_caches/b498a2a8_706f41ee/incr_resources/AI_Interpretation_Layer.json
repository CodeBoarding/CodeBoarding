{
  "description": "The AI Interpretation Layer is the core intelligence component responsible for understanding code, generating insights, and making decisions using Large Language Models (LLMs). It encompasses specialized agents, their underlying prompt structures, and the data models they use for communication.",
  "components": [
    {
      "name": "Agent Orchestrator",
      "description": "Manages the overall flow of code analysis, orchestrating the execution of various specialized agents, handling interactions with LLMs, and parsing their responses. It acts as the central control for the AI interpretation process.",
      "key_entities": [
        {
          "qualified_name": "agents.agent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent.CodeBoardingAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent.LargeModelAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent.SmallModelAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/agent.py",
        "agents/__init__.py",
        "agents/llm_config.py",
        "agents/meta_agent.py",
        "agents/planner_agent.py",
        "agents/tools/__init__.py",
        "agents/tools/external_deps.py",
        "agents/tools/get_method_invocations.py",
        "agents/tools/read_cfg.py",
        "agents/tools/read_docs.py",
        "agents/tools/read_file.py",
        "agents/tools/read_file_structure.py",
        "agents/tools/read_packages.py",
        "agents/tools/read_source.py",
        "agents/tools/read_structure.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Prompt Factory",
      "description": "Centralizes the creation and management of LLM prompts. It provides a consistent interface for agents to retrieve context-specific and LLM-provider-specific prompts, ensuring effective communication with different LLMs.",
      "key_entities": [
        {
          "qualified_name": "agents.prompts.prompt_factory.PromptFactory",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": 5,
          "reference_end_line": 10
        }
      ],
      "assigned_files": [
        "agents/prompts/prompt_factory.py",
        "agents/prompts/__init__.py",
        "agents/prompts/abstract_prompt_factory.py",
        "agents/prompts/claude_prompts_bidirectional.py",
        "agents/prompts/claude_prompts_unidirectional.py",
        "agents/prompts/gemini_flash_prompts_bidirectional.py",
        "agents/prompts/gemini_flash_prompts_unidirectional.py",
        "agents/prompts/gpt_prompts_bidirectional.py",
        "agents/prompts/gpt_prompts_unidirectional.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Analysis Data Models",
      "description": "Defines the standardized data structures (Pydantic models) used throughout the AI Interpretation Layer to represent analysis outputs such as architectural components, relationships, file classifications, and validation insights. Ensures data consistency and facilitates inter-component communication.",
      "key_entities": [
        {
          "qualified_name": "agents.agent_responses",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.AnalysisInsights",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.Component",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.Relation",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses.FileClassification",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/agent_responses.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Abstraction Agent",
      "description": "Performs the initial phase of AI interpretation by generating high-level architectural insights, identifying potential components, and classifying files based on their content and context. It abstracts complex code into architectural concepts.",
      "key_entities": [
        {
          "qualified_name": "agents.abstraction_agent.AbstractionAgent",
          "reference_file": "agents/abstraction_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/abstraction_agent.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Details Agent",
      "description": "Conducts in-depth analysis of specific components identified by the Abstraction Agent. It details their internal structure, responsibilities, and relationships, enriching the architectural model with granular information.",
      "key_entities": [
        {
          "qualified_name": "agents.details_agent.DetailsAgent",
          "reference_file": "agents/details_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/details_agent.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Diff Analyzing Agent",
      "description": "Manages incremental updates to the architectural analysis. It identifies and analyzes code changes (diffs) from the version control system and determines their impact on existing components and the overall architecture.",
      "key_entities": [
        {
          "qualified_name": "agents.diff_analyzer.DiffAnalyzingAgent",
          "reference_file": "agents/diff_analyzer.py",
          "reference_start_line": 21,
          "reference_end_line": 149
        }
      ],
      "assigned_files": [
        "agents/diff_analyzer.py",
        "agents/tools/read_git_diff.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Validator Agent",
      "description": "Ensures the correctness, consistency, and validity of the generated architectural components, relationships, and source code references. It provides feedback for refinement and helps maintain the integrity of the analysis output.",
      "key_entities": [
        {
          "qualified_name": "agents.validator_agent.ValidatorAgent",
          "reference_file": "agents/validator_agent.py",
          "reference_start_line": 20,
          "reference_end_line": 166
        }
      ],
      "assigned_files": [
        "agents/validator_agent.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "initiates analysis tasks for",
      "src_name": "Agent Orchestrator",
      "dst_name": "Abstraction Agent"
    },
    {
      "relation": "initiates analysis tasks for",
      "src_name": "Agent Orchestrator",
      "dst_name": "Details Agent"
    },
    {
      "relation": "initiates analysis tasks for",
      "src_name": "Agent Orchestrator",
      "dst_name": "Diff Analyzing Agent"
    },
    {
      "relation": "initiates analysis tasks for",
      "src_name": "Agent Orchestrator",
      "dst_name": "Validator Agent"
    },
    {
      "relation": "retrieves LLM prompts from",
      "src_name": "Agent Orchestrator",
      "dst_name": "Prompt Factory"
    },
    {
      "relation": "populates and consumes data from",
      "src_name": "Abstraction Agent",
      "dst_name": "Analysis Data Models"
    },
    {
      "relation": "populates and consumes data from",
      "src_name": "Details Agent",
      "dst_name": "Analysis Data Models"
    },
    {
      "relation": "populates and consumes data from",
      "src_name": "Diff Analyzing Agent",
      "dst_name": "Analysis Data Models"
    },
    {
      "relation": "populates and consumes data from",
      "src_name": "Validator Agent",
      "dst_name": "Analysis Data Models"
    },
    {
      "relation": "provides high-level architectural output to",
      "src_name": "Abstraction Agent",
      "dst_name": "Details Agent"
    },
    {
      "relation": "submits refined components and relationships to",
      "src_name": "Details Agent",
      "dst_name": "Validator Agent"
    },
    {
      "relation": "informs about changed files or components requiring re-analysis",
      "src_name": "Diff Analyzing Agent",
      "dst_name": "Abstraction Agent"
    },
    {
      "relation": "informs about changed files or components requiring re-analysis",
      "src_name": "Diff Analyzing Agent",
      "dst_name": "Details Agent"
    },
    {
      "relation": "provides feedback on the validity of analysis results to",
      "src_name": "Validator Agent",
      "dst_name": "Agent Orchestrator"
    },
    {
      "relation": "requests specific prompts from",
      "src_name": "Abstraction Agent",
      "dst_name": "Prompt Factory"
    },
    {
      "relation": "requests specific prompts from",
      "src_name": "Details Agent",
      "dst_name": "Prompt Factory"
    },
    {
      "relation": "requests specific prompts from",
      "src_name": "Diff Analyzing Agent",
      "dst_name": "Prompt Factory"
    },
    {
      "relation": "requests specific prompts from",
      "src_name": "Validator Agent",
      "dst_name": "Prompt Factory"
    }
  ]
}