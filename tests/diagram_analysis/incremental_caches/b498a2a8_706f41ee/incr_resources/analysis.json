{
  "description": "The CodeBoarding system is an AI-driven platform designed for comprehensive code analysis and architectural documentation generation. It operates through a pipeline where the `Application & Job Orchestrator` manages the overall workflow, initiating analysis jobs and coordinating output. The `Repository Management & Toolkit` provides essential code access and manipulation capabilities. The `Static Analysis Engine` performs deep, language-specific code analysis, feeding its results to the `Architectural Graph Engine` which constructs and clusters call graphs. Finally, the `AI Orchestration Layer` leverages these graphs and interacts with LLMs to interpret architectural patterns and generate insights, which are then delivered back to the `Application & Job Orchestrator` for final diagram and documentation output.",
  "components": [
    {
      "name": "Application & Job Orchestrator",
      "description": "Manages the overall application lifecycle, job initiation, execution flow, and persistence of analysis jobs. It orchestrates calls to other components, handles argument parsing, and coordinates the final output generation, including diagram generation.",
      "key_entities": [
        {
          "qualified_name": "main.main",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "DiagramGenerator",
          "reference_file": "diagram_analysis/diagram_generator.py",
          "reference_start_line": 32,
          "reference_end_line": 249
        },
        {
          "qualified_name": "duckdb_crud",
          "reference_file": "duckdb_crud.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "local_app.run_local_app",
          "reference_file": "local_app.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "local_app.py",
        "utils.py",
        "diagram_analysis/diagram_generator.py",
        "duckdb_crud.py",
        "logging_config.py",
        "github_action.py",
        "main.py"
      ],
      "source_cluster_ids": [
        5,
        9
      ],
      "can_expand": true
    },
    {
      "name": "Repository Management & Toolkit",
      "description": "Provides agents and other components with the necessary tools to interact with and manage the target codebase. It handles repository cloning, branch management, file access, and provides a toolkit for querying code structure and content.",
      "key_entities": [
        {
          "qualified_name": "CodeBoardingToolkit",
          "reference_file": "agents/tools/toolkit.py",
          "reference_start_line": 20,
          "reference_end_line": 117
        }
      ],
      "assigned_files": [
        "repo_utils/__init__.py",
        "agents/tools/read_structure.py",
        "agents/tools/read_file_structure.py",
        "health/config.py",
        "health_main.py",
        "agents/tools/toolkit.py"
      ],
      "source_cluster_ids": [
        6,
        8
      ],
      "can_expand": true
    },
    {
      "name": "Static Analysis Engine",
      "description": "Performs deep static analysis across multiple programming languages, leveraging Language Server Protocol (LSP) clients to extract detailed code insights such as symbols, references, and call hierarchies. It stores and manages analysis results in a cache.",
      "key_entities": [
        {
          "qualified_name": "LSPClient",
          "reference_file": "static_analyzer/lsp_client/client.py",
          "reference_start_line": 59,
          "reference_end_line": 1184
        },
        {
          "qualified_name": "ReferenceResolver",
          "reference_file": "static_analyzer/reference_resolve_mixin.py",
          "reference_start_line": 15,
          "reference_end_line": 210
        },
        {
          "qualified_name": "LanguageConfig",
          "reference_file": "static_analyzer/programming_language.py",
          "reference_start_line": 10,
          "reference_end_line": 13
        }
      ],
      "assigned_files": [
        "static_analyzer/java_config_scanner.py",
        "static_analyzer/lsp_client/typescript_client.py",
        "static_analyzer/lsp_client/java_client.py",
        "static_analyzer/programming_language.py",
        "static_analyzer/lsp_client/client.py",
        "static_analyzer/reference_resolve_mixin.py",
        "static_analyzer/analysis_result.py"
      ],
      "source_cluster_ids": [
        1,
        10,
        14,
        15,
        16,
        17,
        18
      ],
      "can_expand": true
    },
    {
      "name": "Architectural Graph Engine",
      "description": "Transforms raw static analysis data into a structured graph representation, building comprehensive call graphs and applying clustering algorithms to identify logical groupings within the codebase, forming the basis for architectural understanding and diagram generation.",
      "key_entities": [
        {
          "qualified_name": "CallGraph",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": 168,
          "reference_end_line": 842
        },
        {
          "qualified_name": "_adaptive_clustering",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": 351,
          "reference_end_line": 414
        },
        {
          "qualified_name": "Node",
          "reference_file": "health/checks/coupling.py",
          "reference_start_line": 101,
          "reference_end_line": 101
        },
        {
          "qualified_name": "Edge",
          "reference_file": "agents/tools/get_method_invocations.py",
          "reference_start_line": 36,
          "reference_end_line": 36
        }
      ],
      "assigned_files": [
        "static_analyzer/graph.py"
      ],
      "source_cluster_ids": [
        2
      ],
      "can_expand": true
    },
    {
      "name": "AI Orchestration Layer",
      "description": "Acts as the central intelligence, orchestrating the analysis pipeline by interacting with various tools and Large Language Models (LLMs). It uses prompt management systems to formulate queries, interprets LLM responses, and generates architectural insights.",
      "key_entities": [
        {
          "qualified_name": "CodeBoardingAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": 44,
          "reference_end_line": 497
        },
        {
          "qualified_name": "PromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": 10,
          "reference_end_line": 63
        },
        {
          "qualified_name": "agents.agent_responses",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "GeminiFlashPromptFactory",
          "reference_file": "agents/prompts/gemini_flash_prompts.py",
          "reference_start_line": 298,
          "reference_end_line": 347
        }
      ],
      "assigned_files": [
        "agents/agent.py",
        "agents/prompts/gpt_prompts.py",
        "agents/agent_responses.py",
        "agents/prompts/abstract_prompt_factory.py",
        "agents/prompts/gemini_flash_prompts.py",
        "agents/prompts/prompt_factory.py",
        "agents/prompts/claude_prompts.py"
      ],
      "source_cluster_ids": [
        3,
        4,
        7,
        11,
        12,
        13
      ],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "Triggers repository setup and cleanup operations.",
      "src_name": "Application & Job Orchestrator",
      "dst_name": "Repository Management & Toolkit"
    },
    {
      "relation": "Initiates code analysis tasks for a given repository.",
      "src_name": "Application & Job Orchestrator",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Requests graph generation and clustering results for diagramming purposes.",
      "src_name": "Application & Job Orchestrator",
      "dst_name": "Architectural Graph Engine"
    },
    {
      "relation": "Provides access to codebase files and structure for analysis.",
      "src_name": "Repository Management & Toolkit",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "Provides raw static analysis data for graph construction.",
      "src_name": "Static Analysis Engine",
      "dst_name": "Architectural Graph Engine"
    },
    {
      "relation": "Provides structured graph data and clustering results for architectural interpretation.",
      "src_name": "Architectural Graph Engine",
      "dst_name": "AI Orchestration Layer"
    },
    {
      "relation": "Utilizes toolkit functions for detailed code exploration and data retrieval.",
      "src_name": "AI Orchestration Layer",
      "dst_name": "Repository Management & Toolkit"
    },
    {
      "relation": "Delivers architectural insights and analysis results for output generation.",
      "src_name": "AI Orchestration Layer",
      "dst_name": "Application & Job Orchestrator"
    }
  ]
}