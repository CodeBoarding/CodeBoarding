{
  "description": "The `CodeBoarding` visualization subsystem is responsible for rendering complex codebase analysis results into interactive, hierarchical diagrams within a VS Code webview. It bridges the gap between raw static analysis data and a user-friendly graphical interface, employing automatic layout algorithms to visualize software architecture. The `CodeBoarding` visualization subsystem follows a Webview-to-Extension Bridge pattern. The backend `DiagramViewProvider` serves as the data source, pushing analyzed codebase structures to the `Frontend State Bridge` (`CodeBoardingApp`). This bridge utilizes the `convertToReactFlow` utility to transform raw data into a visual format. The `Graph Visualization Host` then takes over, orchestrating a complex layout phase via the `Automatic Layout Service` (leveraging `ELK.js` and `detectBackwardEdges`) before rendering the final map using `Architectural Visuals`. This ensures that even large, cycle-heavy dependency graphs are presented in a clean, hierarchical manner that remains interactive and synchronized with the user's active VS Code workspace.",
  "components": [
    {
      "name": "Frontend State Bridge",
      "description": "Acts as the primary orchestrator for the webview, managing the application lifecycle, synchronizing state with the VS Code extension host, and handling theme transitions.",
      "referenced_source_code": [
        {
          "qualified_name": "CodeBoardingApp",
          "reference_file": "webview-ui/src/components/MockCodeBoardingApp.tsx",
          "reference_start_line": 6,
          "reference_end_line": 83
        },
        {
          "qualified_name": "convertToReactFlow",
          "reference_file": "webview-ui/src/utils/graph-converter.ts",
          "reference_start_line": 50,
          "reference_end_line": 106
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Graph Visualization Host",
      "description": "A dedicated container for the diagram viewer that manages the React Flow environment, including viewport controls, background rendering, and UI overlays.",
      "referenced_source_code": [
        {
          "qualified_name": "CodeBoardingGraphViewer",
          "reference_file": "webview-ui/src/components/CodeBoardingGraphViewer.tsx",
          "reference_start_line": 109,
          "reference_end_line": 427
        }
      ],
      "assigned_files": [
        "webview-ui/src/components/CodeBoardingGraphViewer.tsx"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Automatic Layout Service",
      "description": "Orchestrates the calculation of node positions and edge routing using ELK.js, ensuring a readable hierarchical layout while identifying circular dependencies to optimize routing.",
      "referenced_source_code": [
        {
          "qualified_name": "detectBackwardEdges",
          "reference_file": "webview-ui/src/utils/cycle-detector.ts",
          "reference_start_line": 13,
          "reference_end_line": 45
        },
        {
          "qualified_name": "CodeBoardingGraphViewer",
          "reference_file": "webview-ui/src/components/CodeBoardingGraphViewer.tsx",
          "reference_start_line": 109,
          "reference_end_line": 427
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Architectural Visuals",
      "description": "Provides specialized rendering primitives for nodes (files/modules) and edges (dependencies), including git status indicators and hover-activated labels.",
      "referenced_source_code": [
        {
          "qualified_name": "CustomNode",
          "reference_file": "webview-ui/src/components/CustomNode.tsx",
          "reference_start_line": 8,
          "reference_end_line": 120
        },
        {
          "qualified_name": "CustomEdge",
          "reference_file": "webview-ui/src/components/CustomEdge.tsx",
          "reference_start_line": 9,
          "reference_end_line": 166
        }
      ],
      "assigned_files": [
        "webview-ui/src/components/CustomNode.tsx",
        "webview-ui/src/components/CustomEdge.tsx"
      ],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Extension Interaction Layer",
      "description": "Processes user-driven events such as keyboard shortcuts, selection changes, and navigation requests, routing them back to the VS Code backend providers.",
      "referenced_source_code": [
        {
          "qualified_name": "DiagramViewProvider",
          "reference_file": "backend/DiagramViewProvider.ts",
          "reference_start_line": 7,
          "reference_end_line": 157
        },
        {
          "qualified_name": "HelpOverlay",
          "reference_file": "webview-ui/src/components/HelpOverlay.tsx",
          "reference_start_line": 12,
          "reference_end_line": 72
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "Dispatches processed graph data and configuration updates to the renderer.",
      "src_name": "Frontend State Bridge",
      "dst_name": "Graph Visualization Host"
    },
    {
      "relation": "Triggers layout recalculation and edge routing based on structural graph changes.",
      "src_name": "Graph Visualization Host",
      "dst_name": "Automatic Layout Service"
    },
    {
      "relation": "Performs depth-first search to identify and flag back-edges that create architectural cycles.",
      "src_name": "Automatic Layout Service",
      "dst_name": "Automatic Layout Service"
    },
    {
      "relation": "Maps graph state to domain-specific visual components for rendering.",
      "src_name": "Graph Visualization Host",
      "dst_name": "Architectural Visuals"
    },
    {
      "relation": "Captures UI events (like double-clicks for drill-down) and relays them to the bridge.",
      "src_name": "Architectural Visuals",
      "dst_name": "Frontend State Bridge"
    },
    {
      "relation": "Forwards UI-driven commands (e.g., \"Open File\") to the VS Code extension host.",
      "src_name": "Frontend State Bridge",
      "dst_name": "Extension Interaction Layer"
    },
    {
      "relation": "Synchronizes VS Code environment state (selection, theme) back to the webview UI.",
      "src_name": "Extension Interaction Layer",
      "dst_name": "Frontend State Bridge"
    }
  ]
}