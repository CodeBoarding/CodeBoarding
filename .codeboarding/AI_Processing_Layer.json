{
  "description": "This graph represents the core functionality of a system that processes user queries, generates responses using a language model, and interacts with external tools. The main flow involves receiving a query, parsing it, invoking a language model to determine the appropriate action, executing that action (which might involve using a tool), and finally formatting and returning the response to the user. Its purpose is to provide a flexible and extensible framework for building AI-powered applications that can understand and act upon user requests.",
  "components": [
    {
      "name": "Query Processor",
      "description": "Handles incoming user queries, including parsing and initial validation.",
      "referenced_source_code": [
        {
          "qualified_name": "QueryParser:parse",
          "reference_file": "query_processor.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "query_processor.py"
      ],
      "can_expand": false
    },
    {
      "name": "Language Model Interface",
      "description": "Manages interactions with the underlying language model, sending prompts and receiving generated text.",
      "referenced_source_code": [
        {
          "qualified_name": "LLMClient:send_prompt",
          "reference_file": "llm_interface.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "LLMClient:receive_response",
          "reference_file": "llm_interface.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "llm_interface.py",
        "llm_interface.py",
        "agents/llm_config.py",
        "../../agents/prompts/claude_prompts_bidirectional.py",
        "../../agents/prompts/gpt_prompts_unidirectional.py",
        "../../agents/prompts/gemini_flash_prompts_bidirectional.py",
        "../../agents/prompts/abstract_prompt_factory.py",
        "../../agents/prompts/gpt_prompts_bidirectional.py",
        "../../agents/prompts/prompt_factory.py",
        "../../agents/prompts/gemini_flash_prompts_unidirectional.py",
        "../../agents/prompts/claude_prompts_unidirectional.py"
      ],
      "can_expand": true
    },
    {
      "name": "Tool Executor",
      "description": "Executes specific tools based on the language model's output, handling tool invocation and result retrieval.",
      "referenced_source_code": [
        {
          "qualified_name": "ToolRegistry:get_tool",
          "reference_file": "agents/tools/toolkit.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "Tool:execute",
          "reference_file": "tool_executor.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/tools/toolkit.py",
        "tool_executor.py",
        "../../agents/tools/read_source.py",
        "../../agents/tools/read_file_structure.py",
        "../../agents/tools/external_deps.py",
        "agents/tools/base.py",
        "../../agents/tools/read_packages.py",
        "../../agents/tools/read_cfg.py",
        "../../agents/tools/get_method_invocations.py",
        "../../agents/tools/read_git_diff.py",
        "../../agents/tools/read_file.py",
        "../../agents/tools/read_structure.py",
        "../../agents/tools/read_docs.py"
      ],
      "can_expand": true
    },
    {
      "name": "Response Formatter",
      "description": "Formats the final response to be sent back to the user, potentially combining information from the language model and tool outputs.",
      "referenced_source_code": [
        {
          "qualified_name": "ResponseBuilder:build",
          "reference_file": "response_formatter.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "response_formatter.py"
      ],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [
        "../../agents/__init__.py",
        "../../agents/tools/__init__.py",
        "../../agents/prompts/__init__.py"
      ],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "sends queries to",
      "src_name": "Query Processor",
      "dst_name": "Language Model Interface"
    },
    {
      "relation": "receives output from",
      "src_name": "Language Model Interface",
      "dst_name": "Tool Executor"
    },
    {
      "relation": "invokes",
      "src_name": "Tool Executor",
      "dst_name": "Tool"
    },
    {
      "relation": "sends results to",
      "src_name": "Tool Executor",
      "dst_name": "Response Formatter"
    },
    {
      "relation": "returns formatted response from",
      "src_name": "Response Formatter",
      "dst_name": "Query Processor"
    }
  ]
}
