{
  "description": "The `AI Interpretation Layer` serves as the intelligent core of the system, housing LLM-driven agents responsible for code analysis and documentation generation. It encompasses the agent framework, LLM configuration, a toolkit for interacting with code data, and a prompt management system to interpret static analysis data and generate insights.",
  "components": [
    {
      "name": "Abstraction Agent",
      "description": "This specialized agent performs the initial high-level analysis of the codebase, identifying and grouping code clusters into logical components and defining their initial responsibilities. It focuses on abstracting complex code structures into understandable architectural elements.",
      "key_entities": [
        {
          "qualified_name": "agents.abstraction_agent.AbstractionAgent",
          "reference_file": "agents/abstraction_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/abstraction_agent.py",
        "agents/agent.py",
        "agents/agent_responses.py",
        "agents/cluster_methods_mixin.py",
        "agents/llm_config.py",
        "agents/validation.py",
        "monitoring/callbacks.py",
        "static_analyzer/__init__.py",
        "static_analyzer/analysis_result.py",
        "static_analyzer/cluster_helpers.py",
        "static_analyzer/reference_resolve_mixin.py",
        "static_analyzer/typescript_config_scanner.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Details Agent",
      "description": "This specialized agent conducts an in-depth analysis of the identified components, refining their boundaries, understanding internal relationships, and generating detailed insights. It delves into the specifics of each component to enrich the architectural understanding.",
      "key_entities": [
        {
          "qualified_name": "agents.details_agent.DetailsAgent",
          "reference_file": "agents/details_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/details_agent.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Agent Toolkit",
      "description": "Provides a comprehensive set of tools for agents to interact with the project's codebase and static analysis data. This includes functionalities for reading file contents, exploring directory structures, analyzing Git diffs, and querying various static analysis results like CFGs and class hierarchies.",
      "key_entities": [
        {
          "qualified_name": "agents.tools.toolkit.Toolkit",
          "reference_file": "agents/tools/toolkit.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/tools/toolkit.py",
        "agents/tools/base.py",
        "agents/tools/external_deps.py",
        "agents/tools/get_method_invocations.py",
        "agents/tools/read_cfg.py",
        "agents/tools/read_docs.py",
        "agents/tools/read_file.py",
        "agents/tools/read_file_structure.py",
        "agents/tools/read_git_diff.py",
        "agents/tools/read_packages.py",
        "agents/tools/read_source.py",
        "agents/tools/read_structure.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Prompt Management System",
      "description": "Responsible for dynamically generating, managing, and adapting prompts for different Large Language Models (LLMs). It ensures that agents receive contextually relevant and effective instructions, tailored to the specific LLM type and the current stage of the analysis, to optimize their interpretive tasks.",
      "key_entities": [
        {
          "qualified_name": "agents.prompts.prompt_factory.PromptFactory",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "agents/prompts/prompt_factory.py",
        "agents/prompts/__init__.py",
        "agents/prompts/abstract_prompt_factory.py",
        "agents/prompts/claude_prompts_bidirectional.py",
        "agents/prompts/claude_prompts_unidirectional.py",
        "agents/prompts/gemini_flash_prompts_bidirectional.py",
        "agents/prompts/gemini_flash_prompts_unidirectional.py",
        "agents/prompts/gpt_prompts_bidirectional.py",
        "agents/prompts/gpt_prompts_unidirectional.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "utilizes",
      "src_name": "Abstraction Agent",
      "dst_name": "Agent Toolkit"
    },
    {
      "relation": "requests prompts from",
      "src_name": "Abstraction Agent",
      "dst_name": "Prompt Management System"
    },
    {
      "relation": "utilizes",
      "src_name": "Details Agent",
      "dst_name": "Agent Toolkit"
    },
    {
      "relation": "requests prompts from",
      "src_name": "Details Agent",
      "dst_name": "Prompt Management System"
    }
  ]
}