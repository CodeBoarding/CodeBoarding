{
  "description": "The system operates with the `Orchestration Engine` as its central control, initiating and managing the entire code analysis and documentation generation workflow. External requests are handled by the `API Service`, which triggers the `Orchestration Engine`. The `Orchestration Engine` interacts with the `Job Database` to maintain job status and metadata. It instructs the `Repository Manager` to fetch code, which now includes filtering files based on ignore patterns. The `Repository Manager` then provides this filtered code to the `Static Analysis Engine` for detailed analysis. The results are forwarded to the `AI Interpretation Layer`, where specialized agents like the `MetaAgent` and `PlannerAgent` collaborate to interpret the analysis and generate insights. Finally, the `Orchestration Engine` receives these insights and delivers the generated documentation back through the `API Service`.",
  "components": [
    {
      "name": "Orchestration Engine",
      "description": "The central control unit managing the entire code analysis and documentation generation pipeline. It coordinates the execution flow, from static analysis to AI interpretation and final output generation.",
      "referenced_source_code": [
        {
          "qualified_name": "main.generate_analysis",
          "reference_file": "main.py",
          "reference_start_line": 55,
          "reference_end_line": 72
        }
      ],
      "assigned_files": [
        "main.py"
      ],
      "can_expand": true
    },
    {
      "name": "API Service",
      "description": "Handles external job requests and delivers final documentation.",
      "referenced_source_code": [
        {
          "qualified_name": "local_app.start_generation_job",
          "reference_file": "local_app.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "../../local_app.py"
      ],
      "can_expand": true
    },
    {
      "name": "Job Database",
      "description": "Stores and manages job status and metadata.",
      "referenced_source_code": [
        {
          "qualified_name": "duckdb_crud.update_job",
          "reference_file": "duckdb_crud.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": false
    },
    {
      "name": "Repository Manager",
      "description": "Responsible for fetching code from repositories and managing file and directory exclusions based on `.gitignore` patterns and default ignored paths.",
      "referenced_source_code": [
        {
          "qualified_name": "repo_utils.clone_repository",
          "reference_file": "repo_utils/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "repo_utils.ignore.RepoIgnoreManager",
          "reference_file": "repo_utils/ignore.py",
          "reference_start_line": 8,
          "reference_end_line": 107
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Static Analysis Engine",
      "description": "Performs static analysis on the provided code, receiving a filtered set of files from the Repository Manager.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.scanner.StaticAnalysisEngine.analyze_code",
          "reference_file": "static_analyzer/scanner.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "AI Interpretation Layer",
      "description": "Interprets static analysis results and generates insights, encompassing specialized agents like MetaAgent and PlannerAgent. This layer is orchestrated by the `DiagramGenerator`.",
      "referenced_source_code": [
        {
          "qualified_name": "diagram_analysis.diagram_generator.DiagramGenerator.generate_analysis",
          "reference_file": "diagram_analysis/diagram_generator.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "MetaAgent",
      "description": "Analyzes project-level metadata to extract high-level architectural context, project type, domain, and technological biases, guiding subsequent analysis and interpretation.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.meta_agent.MetaAgent.analyze_metadata",
          "reference_file": "agents/meta_agent.py",
          "reference_start_line": 31,
          "reference_end_line": 40
        }
      ],
      "assigned_files": [
        "../../agents/meta_agent.py"
      ],
      "can_expand": true
    },
    {
      "name": "PlannerAgent",
      "description": "Generates a strategic plan for deeper code analysis based on initial analysis and metadata, identifying key components for detailed examination and determining their expansion scope.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.planner_agent.PlannerAgent.generate_plan",
          "reference_file": "agents/planner_agent.py",
          "reference_start_line": 22,
          "reference_end_line": 33
        }
      ],
      "assigned_files": [
        "../../agents/planner_agent.py"
      ],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "initiates",
      "src_name": "API Service",
      "dst_name": "Orchestration Engine"
    },
    {
      "relation": "manages job status in",
      "src_name": "Orchestration Engine",
      "dst_name": "Job Database"
    },
    {
      "relation": "instructs",
      "src_name": "Orchestration Engine",
      "dst_name": "Repository Manager"
    },
    {
      "relation": "provides filtered code to",
      "src_name": "Repository Manager",
      "dst_name": "Static Analysis Engine"
    },
    {
      "relation": "forwards results to",
      "src_name": "Orchestration Engine",
      "dst_name": "AI Interpretation Layer"
    },
    {
      "relation": "utilizes",
      "src_name": "AI Interpretation Layer",
      "dst_name": "MetaAgent"
    },
    {
      "relation": "utilizes",
      "src_name": "AI Interpretation Layer",
      "dst_name": "PlannerAgent"
    },
    {
      "relation": "returns insights to",
      "src_name": "MetaAgent",
      "dst_name": "AI Interpretation Layer"
    },
    {
      "relation": "returns plan to",
      "src_name": "PlannerAgent",
      "dst_name": "AI Interpretation Layer"
    },
    {
      "relation": "sends insights to",
      "src_name": "AI Interpretation Layer",
      "dst_name": "Orchestration Engine"
    },
    {
      "relation": "delivers documentation via",
      "src_name": "Orchestration Engine",
      "dst_name": "API Service"
    }
  ]
}
