{
  "description": "The project's architecture now encompasses two primary subsystems: the `PromptFactory` and the `Static Analyzer`. The `PromptFactory` subsystem is responsible for dynamically generating LLM prompts based on specified types and models, utilizing an abstract factory pattern to manage concrete prompt implementations. The newly introduced `Static Analyzer` subsystem focuses on source code analysis, employing a `Scanner` to parse code, leveraging `ProgrammingLanguage` abstractions for language-specific handling, and potentially interacting with an `LSP Client` for enhanced analysis capabilities. The output of this analysis is encapsulated in an `AnalysisResult`, which may include `Graph` representations of the code. These two subsystems operate independently but contribute to the overall functionality of the project, with the `Static Analyzer` providing insights into code structure and behavior that could potentially inform or be utilized by other parts of the system.",
  "components": [
    {
      "name": "PromptFactory",
      "description": "Responsible for dynamically generating LLM prompts based on specified types and models.",
      "referenced_source_code": [
        {
          "qualified_name": "PromptFactory",
          "reference_file": "agents/prompts/claude_prompts_bidirectional.py",
          "reference_start_line": 382,
          "reference_end_line": 446
        }
      ],
      "assigned_files": [
        "../../agents/prompts/__init__.py",
        "../../agents/prompts/prompt_factory.py"
      ],
      "can_expand": false
    },
    {
      "name": "AbstractPromptFactory",
      "description": "Defines the interface for prompt factories.",
      "referenced_source_code": [
        {
          "qualified_name": "AbstractPromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": 10,
          "reference_end_line": 95
        }
      ],
      "assigned_files": [
        "../../agents/prompts/abstract_prompt_factory.py"
      ],
      "can_expand": false
    },
    {
      "name": "Concrete Prompt Factories",
      "description": "Implementations of the AbstractPromptFactory for specific prompt types and models.",
      "referenced_source_code": [
        {
          "qualified_name": "ConcretePromptFactory",
          "reference_file": "YOUR_FILE_PATH",
          "reference_start_line": 1,
          "reference_end_line": 10
        }
      ],
      "assigned_files": [
        "../../agents/prompts/claude_prompts_bidirectional.py",
        "../../agents/prompts/gpt_prompts_unidirectional.py",
        "../../agents/prompts/gemini_flash_prompts_bidirectional.py",
        "../../agents/prompts/gpt_prompts_bidirectional.py",
        "../../agents/prompts/gemini_flash_prompts_unidirectional.py",
        "../../agents/prompts/claude_prompts_unidirectional.py"
      ],
      "can_expand": true
    },
    {
      "name": "Scanner",
      "description": "Responsible for parsing source code and extracting relevant information, acting as the entry point for static analysis.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.scanner.Scanner",
          "reference_file": "static_analyzer/scanner.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "ProgrammingLanguage",
      "description": "Defines the interfaces or base classes for handling different programming languages, allowing the Scanner to be extensible.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.programming_language.ProgrammingLanguage",
          "reference_file": "static_analyzer/programming_language.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": false
    },
    {
      "name": "LSP Client",
      "description": "Integrates with Language Server Protocol (LSP) for interacting with language servers to obtain analysis data.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.lsp_client.LSPClient",
          "reference_file": "",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "AnalysisResult",
      "description": "Encapsulates the output of the static analysis, providing a structured representation of the findings.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.analysis_result.AnalysisResult",
          "reference_file": "static_analyzer/analysis_result.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Graph",
      "description": "Used to represent the relationships within the analyzed code, such as control flow graphs or dependency graphs.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.graph.Graph",
          "reference_file": "static_analyzer/graph.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "selects and instantiates",
      "src_name": "PromptFactory",
      "dst_name": "Concrete Prompt Factories"
    },
    {
      "relation": "implements",
      "src_name": "Concrete Prompt Factories",
      "dst_name": "AbstractPromptFactory"
    },
    {
      "relation": "uses",
      "src_name": "Scanner",
      "dst_name": "ProgrammingLanguage"
    },
    {
      "relation": "interacts with",
      "src_name": "Scanner",
      "dst_name": "LSP Client"
    },
    {
      "relation": "produces",
      "src_name": "Scanner",
      "dst_name": "AnalysisResult"
    },
    {
      "relation": "may contain",
      "src_name": "AnalysisResult",
      "dst_name": "Graph"
    }
  ]
}
