{
  "description": "The system's architecture is centered around an Agent that orchestrates static code analysis and decision-making. The Agent utilizes a PromptFactory to dynamically generate context-aware prompts, guiding its interactions and analysis tasks. To perform code analysis, the Agent invokes the Scanner, which acts as the primary interface for static analysis. The Scanner relies on the LSP Client to communicate with external Language Servers, thereby acquiring rich, language-specific code insights. All findings from the static analysis are then structured and encapsulated within an AnalysisResult object, which the Agent subsequently consumes to inform its actions and refine its understanding of the codebase. This modular design ensures clear separation of concerns, enabling flexible integration with various language servers and adaptable agent behaviors.",
  "components": [
    {
      "name": "Agent",
      "description": "Drives the overall analysis process, makes decisions based on analysis results, and orchestrates interactions with other components. It utilizes PromptFactory for dynamic prompt generation and Scanner to initiate code analysis.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.abstraction_agent",
          "reference_file": "agents/abstraction_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.agent_responses",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.details_agent",
          "reference_file": "agents/details_agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.tools",
          "reference_file": "agents/tools/",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "agents.prompts",
          "reference_file": "agents/prompts/",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "PromptFactory",
      "description": "Dynamically generates LLM prompts based on specified types and models, providing structured input for the Agent.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.prompts",
          "reference_file": "agents/prompts/",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "Scanner",
      "description": "Acts as the entry point for static analysis, parsing source code, extracting relevant information, and orchestrating the data gathering from language servers.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.scanner",
          "reference_file": "static_analyzer/scanner.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "LSP Client",
      "description": "Integrates with Language Server Protocol (LSP) to communicate with external language servers, obtaining rich analysis data such as definitions, references, and diagnostics.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.lsp_client.client",
          "reference_file": "static_analyzer/lsp_client/client.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "AnalysisResult",
      "description": "Encapsulates the structured output of the static analysis, including code graphs, findings, and other relevant data, providing a standardized format for consumption.",
      "referenced_source_code": [
        {
          "qualified_name": "static_analyzer.analysis_result",
          "reference_file": "static_analyzer/analysis_result.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": []
    }
  ],
  "components_relations": [
    {
      "relation": "Uses",
      "src_name": "Agent",
      "dst_name": "PromptFactory"
    },
    {
      "relation": "Initiates",
      "src_name": "Agent",
      "dst_name": "Scanner"
    },
    {
      "relation": "Consumes",
      "src_name": "Agent",
      "dst_name": "AnalysisResult"
    },
    {
      "relation": "Generates prompts for",
      "src_name": "PromptFactory",
      "dst_name": "Agent"
    },
    {
      "relation": "Utilizes",
      "src_name": "Scanner",
      "dst_name": "LSP Client"
    },
    {
      "relation": "Produces",
      "src_name": "Scanner",
      "dst_name": "AnalysisResult"
    },
    {
      "relation": "Provides data to",
      "src_name": "LSP Client",
      "dst_name": "Scanner"
    },
    {
      "relation": "Is produced by",
      "src_name": "AnalysisResult",
      "dst_name": "Scanner"
    },
    {
      "relation": "Is consumed by",
      "src_name": "AnalysisResult",
      "dst_name": "Agent"
    }
  ]
}
