{
  "description": "The prompt management subsystem provides a clear separation of concerns, with PromptFactory acting as a facade for prompt retrieval. An external agent initiates the process by requesting a prompt from PromptFactory, specifying the desired LLMType and PromptType. PromptFactory then uses this information to dynamically select and instantiate the appropriate Concrete Prompt Factory. This concrete factory, which adheres to the AbstractPromptFactory interface, then generates and returns the specific prompt. This design allows for easy addition of new LLM types or prompt interaction patterns by simply creating new concrete factory implementations without altering the core PromptFactory logic.",
  "components": [
    {
      "name": "PromptFactory",
      "description": "The central orchestrator for creating and managing LLM prompts. It acts as the primary entry point, dynamically selecting and instantiating the appropriate concrete prompt factory based on the desired LLMType (e.g., GEMINI_FLASH, CLAUDE, GPT4) and PromptType (e.g., BIDIRECTIONAL, UNIDIRECTIONAL).",
      "referenced_source_code": [
        {
          "qualified_name": "LLMType",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": 26,
          "reference_end_line": 32
        },
        {
          "qualified_name": "PromptType",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": 19,
          "reference_end_line": 23
        },
        {
          "qualified_name": "AbstractPromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "GeminiFlashBidirectionalPromptFactory",
          "reference_file": "agents/prompts/gemini_flash_prompts_bidirectional.py",
          "reference_start_line": 369,
          "reference_end_line": 433
        }
      ]
    },
    {
      "name": "AbstractPromptFactory",
      "description": "An abstract base class that defines the contract for all concrete prompt factories. It establishes the interface for retrieving prompts, ensuring a consistent API across different LLM and prompt interaction type implementations.",
      "referenced_source_code": [
        {
          "qualified_name": "AbstractPromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ]
    },
    {
      "name": "Concrete Prompt Factories",
      "description": "A group of specialized implementations of AbstractPromptFactory. Each concrete factory is responsible for encapsulating the specific prompt templates and logic for a particular LLMType and PromptType combination.",
      "referenced_source_code": [
        {
          "qualified_name": "AbstractPromptFactory",
          "reference_file": "agents/prompts/abstract_prompt_factory.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "GeminiFlashBidirectionalPromptFactory",
          "reference_file": "agents/prompts/gemini_flash_prompts_bidirectional.py",
          "reference_start_line": 369,
          "reference_end_line": 433
        },
        {
          "qualified_name": "ClaudeBidirectionalPromptFactory",
          "reference_file": "agents/prompts/claude_prompts_bidirectional.py",
          "reference_start_line": 382,
          "reference_end_line": 446
        },
        {
          "qualified_name": "GPTBidirectionalPromptFactory",
          "reference_file": "agents/prompts/gpt_prompts_bidirectional.py",
          "reference_start_line": 571,
          "reference_end_line": 635
        }
      ]
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": []
    }
  ],
  "components_relations": [
    {
      "relation": "selects and instantiates",
      "src_name": "PromptFactory",
      "dst_name": "Concrete Prompt Factories"
    },
    {
      "relation": "implements",
      "src_name": "Concrete Prompt Factories",
      "dst_name": "AbstractPromptFactory"
    }
  ]
}
