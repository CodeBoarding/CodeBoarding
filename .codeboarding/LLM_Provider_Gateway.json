{
  "description": "The system's architecture is driven by the Application Orchestrator, which manages the end-to-end process of generating architectural documentation from code repositories. It delegates the core analysis tasks to the Analysis & Diagram Generator, which in turn configures and invokes the Code Analysis Agent. This agent, the intelligent core, performs detailed code understanding and interacts with various Large Language Models through the LLM Provider Manager. The LLM Provider Manager dynamically selects and initializes specific External LLM Integrations, enabling the agent to send prompts and receive responses from different LLM services. Finally, the analysis results are returned to the Application Orchestrator for documentation generation and output. This layered approach ensures modularity, flexibility in LLM integration, and a clear separation of concerns across the system.",
  "components": [
    {
      "name": "Application Orchestrator",
      "description": "The central control point of the application, responsible for managing the overall workflow from input (remote/local repositories) to output (analysis and documentation). It handles argument parsing, environment setup, repository cloning, and the high-level coordination of analysis and documentation generation.",
      "referenced_source_code": [
        {
          "qualified_name": "main:process_remote_repository",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "main:process_local_repository",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "main:generate_analysis",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "main:generate_markdown_docs",
          "reference_file": "main.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Analysis & Diagram Generator",
      "description": "This component orchestrates the static analysis of the codebase and the generation of architectural diagrams and insights. It acts as an interface between the Application Orchestrator and the Code Analysis Agent, preparing the context and processing the results for documentation.",
      "referenced_source_code": [
        {
          "qualified_name": "diagram_analysis.DiagramGenerator",
          "reference_file": "diagram_analysis/diagram_generator.py",
          "reference_start_line": 34,
          "reference_end_line": 293
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Code Analysis Agent",
      "description": "The intelligent core responsible for understanding the codebase, performing static analysis, and generating architectural insights. It leverages various internal tools and interacts with external LLMs to fulfill its analysis tasks.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.agent.CodeBoardingAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "../../agents/agent.py",
        "../../agents/prompts/claude_prompts_bidirectional.py",
        "../../agents/prompts/gpt_prompts_unidirectional.py",
        "../../agents/prompts/gemini_flash_prompts_bidirectional.py",
        "../../agents/prompts/gpt_prompts_bidirectional.py",
        "../../agents/prompts/gemini_flash_prompts_unidirectional.py",
        "../../agents/prompts/claude_prompts_unidirectional.py"
      ],
      "can_expand": true
    },
    {
      "name": "LLM Provider Manager",
      "description": "Manages the dynamic selection and initialization of different Large Language Model clients. It abstracts the complexities of integrating with various LLM providers, allowing the Code Analysis Agent to interact with a unified interface.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.agent.CodeBoardingAgent:_initialize_llm",
          "reference_file": "agents/agent.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "External LLM Integrations",
      "description": "Concrete implementations that provide the interface to specific external Large Language Models (e.g., OpenAI, Anthropic, Google Gemini). Each integration handles the unique API calls, authentication, and data formatting required for its respective LLM.",
      "referenced_source_code": [
        {
          "qualified_name": "langchain_openai.ChatOpenAI",
          "reference_file": "langchain_openai/chat_models/openai.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "langchain_anthropic.ChatAnthropic",
          "reference_file": "langchain_anthropic/chat_models/anthropic.py",
          "reference_start_line": null,
          "reference_end_line": null
        },
        {
          "qualified_name": "langchain_google_genai.ChatGoogleGenerativeAI",
          "reference_file": "langchain_google_genai/chat_models/generative_ai.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "initiates analysis workflow",
      "src_name": "Application Orchestrator",
      "dst_name": "Analysis & Diagram Generator"
    },
    {
      "relation": "manages output of",
      "src_name": "Application Orchestrator",
      "dst_name": "Analysis & Diagram Generator"
    },
    {
      "relation": "configures and invokes analysis",
      "src_name": "Analysis & Diagram Generator",
      "dst_name": "Code Analysis Agent"
    },
    {
      "relation": "requests LLM client",
      "src_name": "Code Analysis Agent",
      "dst_name": "LLM Provider Manager"
    },
    {
      "relation": "instantiates and configures LLM client",
      "src_name": "LLM Provider Manager",
      "dst_name": "External LLM Integrations"
    },
    {
      "relation": "sends prompts and receives responses",
      "src_name": "Code Analysis Agent",
      "dst_name": "External LLM Integrations"
    },
    {
      "relation": "returns analysis results",
      "src_name": "Analysis & Diagram Generator",
      "dst_name": "Application Orchestrator"
    }
  ]
}
