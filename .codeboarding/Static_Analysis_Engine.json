{
  "description": "The system's core functionality revolves around the Agent component, which orchestrates code analysis and interaction. The process begins with the Scanner performing lexical analysis on files, with its scope refined by the RepoIgnoreManager. The LSP Client then provides detailed parsed information, including ASTs, which are used by the Reference Resolver to link symbolic references. Both ASTs and resolved references are fed into the Graph Builder to construct Control Flow Graphs. The Programming Language Support component provides essential language-specific configurations throughout these stages. All generated analysis data is managed by the Analysis Result Handler, which then provides StaticAnalysisResults to the Agent. The Agent utilizes these results, along with a CodeBoardingToolkit (which interacts with the LSP Client, Reference Resolver, and Graph Builder indirectly), and an external LLM to process prompts, perform actions, and generate intelligent responses, effectively driving the code understanding and interaction workflow.",
  "components": [
    {
      "name": "Agent",
      "description": "The `Agent` component, specifically `CodeBoardingAgent`, acts as the central orchestrator. It leverages static analysis results and a toolkit of specialized tools to interact with the codebase, process information using an LLM, and generate responses. It manages the overall workflow, including prompt processing, tool invocation, and response parsing.",
      "referenced_source_code": [
        {
          "qualified_name": "agents.agent.CodeBoardingAgent",
          "reference_file": "agents/agent.py",
          "reference_start_line": 36,
          "reference_end_line": 341
        }
      ],
      "assigned_files": [],
      "can_expand": true
    },
    {
      "name": "Scanner",
      "description": "The `Scanner` initiates the process with lexical analysis, potentially on a filtered set of files determined by the `RepoIgnoreManager`.",
      "referenced_source_code": [
        {
          "qualified_name": "Scanner",
          "reference_file": "static_analyzer/__init__.py",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/__init__.py",
        "static_analyzer/scanner.py",
        "static_analyzer/typescript_config_scanner.py"
      ],
      "can_expand": true
    },
    {
      "name": "LSP Client",
      "description": "The `LSP Client` then provides rich parsed information, including Abstract Syntax Trees (ASTs), by interacting with external Language Servers.",
      "referenced_source_code": [
        {
          "qualified_name": "LSPClient",
          "reference_file": "static_analyzer/lsp_client/client.py",
          "reference_start_line": 58,
          "reference_end_line": 1105
        }
      ],
      "assigned_files": [
        "static_analyzer/lsp_client/__init__.py",
        "static_analyzer/lsp_client/typescript_client.py",
        "static_analyzer/lsp_client/client.py"
      ],
      "can_expand": true
    },
    {
      "name": "Reference Resolver",
      "description": "This parsed data is crucial for the `Reference Resolver` to identify and link symbolic references within the code.",
      "referenced_source_code": [
        {
          "qualified_name": "ReferenceResolver",
          "reference_file": "static_analyzer/reference_resolve_mixin.py",
          "reference_start_line": 15,
          "reference_end_line": 151
        }
      ],
      "assigned_files": [
        "static_analyzer/reference_resolve_mixin.py"
      ],
      "can_expand": true
    },
    {
      "name": "Graph Builder",
      "description": "Both the ASTs from the `LSP Client` and the resolved references from the `Reference Resolver` feed into the `Graph Builder`, which constructs Control Flow Graphs (CFGs).",
      "referenced_source_code": [
        {
          "qualified_name": "GraphBuilder",
          "reference_file": "<file_path>",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/graph.py"
      ],
      "can_expand": true
    },
    {
      "name": "Programming Language Support",
      "description": "Throughout this process, the `Programming Language Support` component provides language-specific configurations and rules, ensuring accurate analysis.",
      "referenced_source_code": [
        {
          "qualified_name": "ProgrammingLanguageSupport",
          "reference_file": "ProgrammingLanguageSupport",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/programming_language.py"
      ],
      "can_expand": true
    },
    {
      "name": "Analysis Result Handler",
      "description": "The `Analysis Result Handler` manages and stores the various outputs, such as CFGs and other static analysis results, making them accessible for further processing or consumption.",
      "referenced_source_code": [
        {
          "qualified_name": "AnalysisResultHandler",
          "reference_file": "AnalysisResultHandler",
          "reference_start_line": null,
          "reference_end_line": null
        }
      ],
      "assigned_files": [
        "static_analyzer/analysis_result.py"
      ],
      "can_expand": true
    },
    {
      "name": "RepoIgnoreManager",
      "description": "The `RepoIgnoreManager` handles the logic for ignoring files and directories based on project-specific configurations, influencing the scope of analysis for other components.",
      "referenced_source_code": [
        {
          "qualified_name": "repo_utils.ignore.RepoIgnoreManager",
          "reference_file": "repo_utils/ignore.py",
          "reference_start_line": 8,
          "reference_end_line": 107
        }
      ],
      "assigned_files": [
        "repo_utils/__init__.py",
        "repo_utils/ignore.py"
      ],
      "can_expand": false
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [
        "repo_utils/git_diff.py"
      ],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "consumes",
      "src_name": "Agent",
      "dst_name": "Analysis Result Handler"
    },
    {
      "relation": "utilizes indirectly",
      "src_name": "Agent",
      "dst_name": "LSP Client"
    },
    {
      "relation": "utilizes indirectly",
      "src_name": "Agent",
      "dst_name": "Reference Resolver"
    },
    {
      "relation": "utilizes indirectly",
      "src_name": "Agent",
      "dst_name": "Graph Builder"
    },
    {
      "relation": "interacts with",
      "src_name": "Agent",
      "dst_name": "External LLM"
    },
    {
      "relation": "uses",
      "src_name": "Agent",
      "dst_name": "RepoIgnoreManager"
    },
    {
      "relation": "provides input to",
      "src_name": "Scanner",
      "dst_name": "LSP Client"
    },
    {
      "relation": "uses",
      "src_name": "Scanner",
      "dst_name": "Programming Language Support"
    },
    {
      "relation": "uses",
      "src_name": "Scanner",
      "dst_name": "RepoIgnoreManager"
    },
    {
      "relation": "receives input from",
      "src_name": "LSP Client",
      "dst_name": "Scanner"
    },
    {
      "relation": "provides ASTs to",
      "src_name": "LSP Client",
      "dst_name": "Graph Builder"
    },
    {
      "relation": "provides parsed information to",
      "src_name": "LSP Client",
      "dst_name": "Reference Resolver"
    },
    {
      "relation": "receives parsed information from",
      "src_name": "Reference Resolver",
      "dst_name": "LSP Client"
    },
    {
      "relation": "integrates resolved references with",
      "src_name": "Reference Resolver",
      "dst_name": "Graph Builder"
    },
    {
      "relation": "receives ASTs from",
      "src_name": "Graph Builder",
      "dst_name": "LSP Client"
    },
    {
      "relation": "receives resolved references from",
      "src_name": "Graph Builder",
      "dst_name": "Reference Resolver"
    },
    {
      "relation": "uses",
      "src_name": "Graph Builder",
      "dst_name": "Programming Language Support"
    },
    {
      "relation": "provides CFGs to",
      "src_name": "Graph Builder",
      "dst_name": "Analysis Result Handler"
    },
    {
      "relation": "provides configurations to",
      "src_name": "Programming Language Support",
      "dst_name": "Scanner"
    },
    {
      "relation": "provides configurations to",
      "src_name": "Programming Language Support",
      "dst_name": "Graph Builder"
    },
    {
      "relation": "receives CFGs from",
      "src_name": "Analysis Result Handler",
      "dst_name": "Graph Builder"
    },
    {
      "relation": "provides StaticAnalysisResults to",
      "src_name": "Analysis Result Handler",
      "dst_name": "Agent"
    },
    {
      "relation": "provides file filtering rules to",
      "src_name": "RepoIgnoreManager",
      "dst_name": "Scanner"
    },
    {
      "relation": "used by",
      "src_name": "RepoIgnoreManager",
      "dst_name": "Agent"
    }
  ]
}