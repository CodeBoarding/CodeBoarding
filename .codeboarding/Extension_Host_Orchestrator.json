{
  "description": "This architectural analysis defines the core backend subsystem of the CodeBoarding VS Code extension. The subsystem follows a State-Mediated Decoupled Architecture, where a central state manager orchestrates communication between asynchronous static analysis processes and multiple concurrent UI providers. This design ensures that the React-based visualization remains synchronized across sidebar views and full-tab editors while maintaining a clean separation between VS Code's extension host and the external analysis engine.",
  "components": [
    {
      "name": "Extension Lifecycle Manager",
      "description": "The primary entry point that handles bootstrapping, dependency injection, and registration of VS Code commands and providers.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.extension.activate",
          "reference_file": "backend/extension.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [
        "backend/extension.ts"
      ],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Central State Manager",
      "description": "A Pub/Sub coordination hub that maintains the global AppState (selections, analysis status, and execution state), ensuring UI consistency.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.services.StateManager.StateManager",
          "reference_file": "backend/services/StateManager.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Sidebar Diagram Provider",
      "description": "Manages the WebviewViewProvider for the sidebar graph, handling theme synchronization and initial visibility detection.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.DiagramViewProvider.DiagramViewProvider",
          "reference_file": "backend/DiagramViewProvider.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [
        "backend/DiagramViewProvider.ts"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Maximized Diagram Provider",
      "description": "Manages WebviewPanel instances for full-screen diagram exploration, coordinating with the sidebar to prevent redundant rendering.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.DiagramPanelProvider.DiagramPanelProvider",
          "reference_file": "backend/DiagramPanelProvider.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Context Inspector Provider",
      "description": "Governs the metadata/property view, linking graph nodes to source code locations and facilitating AI context extraction.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.DetailsViewProvider.DetailsViewProvider",
          "reference_file": "backend/DetailsViewProvider.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Analysis Facade",
      "description": "Orchestrates the analysis lifecycle, from managing sidecar binaries to parsing JSON \"facts\" into the central state.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.services.AnalysisService.AnalysisService",
          "reference_file": "backend/services/AnalysisService.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Remote Governance Service",
      "description": "Manages license validation, device fingerprinting, and feature gating via remote AWS communication.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.services.AWSCommunicationService.AWSCommunicationService",
          "reference_file": "backend/services/AWSCommunicationService.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "AI Context Bridge",
      "description": "Formats codebase analysis facts into LLM-ready prompts and handles clipboard integration for external AI tools.",
      "referenced_source_code": [
        {
          "qualified_name": "backend.services.CopilotContextService.CopilotContextService",
          "reference_file": "backend/services/CopilotContextService.ts",
          "reference_start_line": -1,
          "reference_end_line": -1
        }
      ],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "Unclassified",
      "description": "Component for all unclassified files and utility functions (Utility functions/External Libraries/Dependencies)",
      "referenced_source_code": [],
      "assigned_files": [],
      "source_cluster_ids": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "Injects services and registers commands during extension activation to ensure the analysis engine is ready for use.",
      "src_name": "Extension Lifecycle Manager",
      "dst_name": "Analysis Facade"
    },
    {
      "relation": "Publishes fresh analysis \"facts\" and execution status updates to the global state once the sidecar processing completes.",
      "src_name": "Analysis Facade",
      "dst_name": "Central State Manager"
    },
    {
      "relation": "Dispatches state change events (like node selection or analysis updates) to trigger React re-renders in the webview.",
      "src_name": "Central State Manager",
      "dst_name": "Sidebar Diagram Provider"
    },
    {
      "relation": "Coordinates visibility states to ensure the sidebar hides its content when the full-tab diagram is active, optimizing resource usage.",
      "src_name": "Sidebar Diagram Provider",
      "dst_name": "Maximized Diagram Provider"
    },
    {
      "relation": "Synchronizes active node metadata to the inspector view, enabling detailed property review during full-screen exploration.",
      "src_name": "Maximized Diagram Provider",
      "dst_name": "Context Inspector Provider"
    },
    {
      "relation": "Transfers selected node references and source file paths to the bridge for AI-compatible formatting.",
      "src_name": "Context Inspector Provider",
      "dst_name": "AI Context Bridge"
    },
    {
      "relation": "Provides license-tier validation used to gate professional features and command availability during startup.",
      "src_name": "Remote Governance Service",
      "dst_name": "Extension Lifecycle Manager"
    }
  ]
}