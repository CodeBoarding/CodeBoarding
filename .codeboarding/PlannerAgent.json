{
  "description": "Analyzes components from AnalysisInsights to determine which should be expanded for deeper hierarchical analysis. Uses LLM to evaluate component complexity, cluster count, and whether further decomposition would provide architectural value.",
  "components": [
    {
      "name": "AnalysisInsights",
      "description": "Input data structure containing components with their descriptions, key entities, and source cluster IDs for planning analysis.",
      "key_entities": [
        {
          "qualified_name": "agents.agent_responses.AnalysisInsights",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": 149,
          "reference_end_line": 164
        }
      ],
      "assigned_files": [
        "./agents/agent_responses.py"
      ],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "LLM Judge",
      "description": "ReAct agent using LangGraph that evaluates each component to determine if it needs expansion based on complexity, cluster count, and architectural significance.",
      "key_entities": [
        {
          "qualified_name": "agents.planner_agent.PlannerAgent.agent",
          "reference_file": "agents/planner_agent.py",
          "reference_start_line": 17,
          "reference_end_line": 20
        },
        {
          "qualified_name": "agents.planner_agent.PlannerAgent.should_expand",
          "reference_file": "agents/planner_agent.py",
          "reference_start_line": 22,
          "reference_end_line": 34
        }
      ],
      "assigned_files": [
        "./agents/planner_agent.py"
      ],
      "source_cluster_ids": [],
      "can_expand": false
    },
    {
      "name": "CodeBoarding Toolkit",
      "description": "Collection of tools for reading source references, packages, file structures, and CFGs to help LLM make informed expansion decisions.",
      "key_entities": [
        {
          "qualified_name": "agents.tools.toolkit.CodeBoardingToolkit",
          "reference_file": "agents/tools/toolkit.py",
          "reference_start_line": 20,
          "reference_end_line": 117
        }
      ],
      "assigned_files": [
        "./agents/tools/toolkit.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Model Specific Prompts",
      "description": "Factory-provided prompts for expansion decisions including planner system message and expansion prompt, optimized for the configured LLM type.",
      "key_entities": [
        {
          "qualified_name": "agents.prompts.prompt_factory.get_planner_system_message",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": 175,
          "reference_end_line": 176
        },
        {
          "qualified_name": "agents.prompts.prompt_factory.get_expansion_prompt",
          "reference_file": "agents/prompts/prompt_factory.py",
          "reference_start_line": 179,
          "reference_end_line": 180
        }
      ],
      "assigned_files": [
        "./agents/prompts/prompt_factory.py"
      ],
      "source_cluster_ids": [],
      "can_expand": true
    },
    {
      "name": "Expansion Decision",
      "description": "Output model containing boolean decision on whether to expand and reasoning for the decision.",
      "key_entities": [
        {
          "qualified_name": "agents.agent_responses.ExpandComponent",
          "reference_file": "agents/agent_responses.py",
          "reference_start_line": 201,
          "reference_end_line": 208
        }
      ],
      "assigned_files": [
        "./agents/agent_responses.py"
      ],
      "source_cluster_ids": [],
      "can_expand": false
    }
  ],
  "components_relations": [
    {
      "relation": "passes components",
      "src_name": "AnalysisInsights",
      "dst_name": "LLM Judge"
    },
    {
      "relation": "uses",
      "src_name": "LLM Judge",
      "dst_name": "CodeBoarding Toolkit"
    },
    {
      "relation": "uses",
      "src_name": "LLM Judge",
      "dst_name": "Model Specific Prompts"
    },
    {
      "relation": "produces",
      "src_name": "LLM Judge",
      "dst_name": "Expansion Decision"
    }
  ]
}